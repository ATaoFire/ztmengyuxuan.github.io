<!DOCTYPE html>
<html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title>git基本用法 &mdash; 刘华健</title>
    <link rel="stylesheet" href="/assets/vendor/primer-css/css/primer.css">
    <link rel="stylesheet" href="/assets/vendor/primer-markdown/dist/user-content.min.css">
    <link rel="stylesheet" href="/assets/vendor/octicons/octicons/octicons.css">
    <link rel="stylesheet" href="/assets/css/components/collection.css">
    <link rel="stylesheet" href="/assets/css/components/repo-card.css">
    <link rel="stylesheet" href="/assets/css/sections/repo-list.css">
    <link rel="stylesheet" href="/assets/css/sections/mini-repo-list.css">
    <link rel="stylesheet" href="/assets/css/components/boxed-group.css">
    <link rel="stylesheet" href="/assets/css/globals/common.css">
    <link rel="stylesheet" href="/assets/vendor/share.js/dist/css/share.min.css">
    <link rel="stylesheet" href="/assets/css/globals/responsive.css">
    <link rel="stylesheet" href="/assets/css/posts/index.css">
    <!-- Latest compiled and minified CSS -->
    

    
    <link rel="alternate" type="application/atom+xml" title="刘华健" href="/feed.xml">
    <link rel="shortcut icon" href="/favicon.ico">
    
    <meta property="og:title" content="git基本用法">
      
    <meta name="keywords" content="刘华健, Liu Hua Jian, lhjzzu">
    <meta name="og:keywords" content="刘华健, Liu Hua Jian, lhjzzu">
      
    <meta name="description" content="git简介">
    <meta name="og:description" content="git简介">
      
    
    
        
    
    <meta property="og:url" content="https://ztmengyuxuan.github.io/2016/05/08/git-base-usage/">
    <meta property="og:site_name" content="刘华健">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="zh_CN" />
    
    <meta property="article:published_time" content="2016-05-08">
    
    <script src="/assets/vendor/jquery/dist/jquery.min.js"></script>
    <script src="/assets/js/jquery-ui.js"></script>
</head>
<body class="" data-mz="">
    <header class="site-header">
        <div class="container">
            <h1><a href="/" title="刘华健"><span class="octicon octicon-mark-github"></span> 刘华健</a></h1>
            <nav class="site-header-nav" role="navigation">
                
                <a href="/" class=" site-header-nav-item" target="" title="首页">首页</a>
                
                <a href="/categories/" class=" site-header-nav-item" target="" title="分类">分类</a>
                
                <a href="/links/" class=" site-header-nav-item" target="" title="链接">链接</a>
                
                <a href="/about/" class=" site-header-nav-item" target="" title="关于">关于</a>
                
            </nav>
        </div>
    </header>
    <!-- / header -->

    <section class="collection-head small geopattern" data-pattern-id="git基本用法">
<div class="container">
  <div class="columns">
    <div class="column three-fourths">
      <div class="collection-title">
        <h1 class="collection-header">git基本用法</h1>
        <div class="collection-info">
          
          <span class="meta-info">
            <span class="octicon octicon-calendar"></span> 2016/05/08
          </span>
          
          
          <span class="meta-info">
            <span class="octicon octicon-file-directory"></span>
            <a href="/categories/#Git" title="Git">Git</a>
          </span>
          
        </div>
      </div>
    </div>
  </div>
</div>
</section>
<!-- / .banner -->
<section class="container content">
<div class="columns">
  <div class="column three-fourths" >
    <article class="article-content markdown-body">
    <h2 id="git">git简介</h2>

<h3 id="git-1">git作用</h3>

<p>git是进行版本控制的工具。</p>

<h3 id="githubgit">利用github建立一个git仓库</h3>

<h4 id="section">方法1:直接克隆远程仓库（建议）</h4>

<p>1 首先注册一个github账号</p>

<p>2 新建一个仓库，如下图，并且点击<code class="highlighter-rouge">creating repository</code></p>

<p><img src="http://7xqijx.com1.z0.glb.clouddn.com/git%E4%BB%93%E5%BA%93.png" alt="" /></p>

<p>3 克隆这个仓库到桌面</p>

<ul>
  <li>
    <p>cd到桌面</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  $ cd ~/desktop
</code></pre>
    </div>
  </li>
  <li>
    <p>克隆仓库</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  $ git clone https://github.com/lhjzzu/learngit
    
  Cloning into 'learngit'...        
  remote: Counting objects: 11, done.
  remote: Compressing objects: 100% (7/7), done.
  remote: Total 11 (delta 2), reused 7 (delta 1), pack-reused 0
  Unpacking objects: 100% (11/11), done.
  Checking connectivity... done
</code></pre>
    </div>
  </li>
  <li>
    <p>添加文件</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  $ cd ./learngit
  $ touch test.txt (创建test.txt文件)
  $ open test.txt (输入这是一个测试)
  $ git add . (添加所有文件到版本库的暂存区)
  $ git commit -m 'first commit' （把暂存区的所有内容提交到当前分支）
</code></pre>
    </div>
  </li>
  <li>
    <p>把本地的分支的修改推送到远端</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  $ git push
 
  Counting objects: 3, done.
  Delta compression using up to 8 threads.
  Compressing objects: 100% (2/2), done.
  Writing objects: 100% (3/3), 283 bytes | 0 bytes/s, done.
  Total 3 (delta 1), reused 0 (delta 0)
  To https://github.com/lhjzzu/learngit
     ffc4dff..c422d8d  master -&gt; master
</code></pre>
    </div>
  </li>
</ul>

<h4 id="section-1">方法2:建立本地仓库，并与远程仓库关联</h4>

<p>1 首先注册一个github账号</p>

<p>2 新建一个仓库，如下图，并且点击<code class="highlighter-rouge">creating repository</code></p>

<p><img src="http://7xqijx.com1.z0.glb.clouddn.com/git%E4%BB%93%E5%BA%93.png" alt="" /></p>

<p>3 在本地建立git仓库，并与远端仓库关联到一起</p>

<ul>
  <li>
    <p>建立learngit文件夹并进入文件夹</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  $ cd ~/desktop
  $ mkdir learngit
  $ cd ./learngit
</code></pre>
    </div>
  </li>
  <li>
    <p>初始化仓库</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  $ git init 
    
  Initialized empty Git repository in /Users/chiyou/Desktop/learngit/.git/
</code></pre>
    </div>
  </li>
  <li>
    <p>添加文件</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  $ touch test.txt (创建test.txt文件)
  $ open test.txt (输入这是一个测试)
  $ git add . (添加所有文件到版本库的暂存区)
  $ git commit -m 'first commit' （把暂存区的所有内容提交到当前分支）
</code></pre>
    </div>
  </li>
  <li>
    <p>与远程仓库建立连接</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  $ git remote add origin https://github.com/lhjzzu/learngit
</code></pre>
    </div>
  </li>
  <li>
    <p>由于远程仓库中的信息与本地并不一直，先进行拉取</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  $ git pull
 
  See git-pull(1) for details.
    git pull &lt;remote&gt; &lt;branch&gt;
  If you wish to set tracking information for this branch you can do so with:
    git branch --set-upstream-to=origin/&lt;branch&gt; master
</code></pre>
    </div>
  </li>
  <li>
    <p>由上面的信息可知，我们需要设置本地仓库与远程仓库的拉取的关联(pull)</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  $ git branch --set-upstream-to=origin/master master 
   
     Branch master set up to track remote branch master from origin.
    
  $ git pull
 
  Merge made by the 'recursive' strategy.
  .gitignore | 53 +++++++++++++++++++++++++++++++++++++++++++++++++++++
  LICENSE    | 21 +++++++++++++++++++++
  README.md  |  2 ++
  3 files changed, 76 insertions(+)
  create mode 100644 .gitignore
  create mode 100644 LICENSE
  create mode 100644 README.md
</code></pre>
    </div>
  </li>
  <li>
    <p>把本地的分支的修改推送到远端</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  $ git push
 
  Counting objects: 5, done.
  Delta compression using up to 8 threads.
  Compressing objects: 100% (3/3), done.
  Writing objects: 100% (5/5), 512 bytes | 0 bytes/s, done.
  Total 5 (delta 1), reused 0 (delta 0)
  To https://github.com/lhjzzu/learngit
     fe6b1e2..10c8b9c  master -&gt; master
</code></pre>
    </div>
  </li>
</ul>

<h2 id="learngit">learngit结构分析</h2>

<p>工作区:learngit文件夹就是工作区</p>

<p>版本库:工作区中的隐藏目录,.git就是版本库</p>

<ul>
  <li>
    <p>查看.git目录的相关信息</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  $ cd ~/desktop/learngit
  $ cd .git
  $ ls -F1
    
  COMMIT_EDITMSG
  HEAD
  branches/
  config
  description
  hooks/
  index
  info/
  logs/
  objects/
  packed-refs
  refs/
</code></pre>
    </div>
  </li>
  <li>
    <p>关于.git目录下的各项的作用请参考<a href="http://www.zhihu.com/question/38983686?sort=created">这篇文章</a></p>
  </li>
</ul>

<p>暂存区：版本库中的stage（或者index）就是暂存区，还有Git为我们自动创建的第一个分支master，以及指向master的一个指针叫HEAD。</p>

<h2 id="git-2">git常用命令</h2>

<h3 id="section-2">添加内容并推送</h3>

<p>这个内容在建立git仓库的时候已经演示过了,这里主要列举一下相关命令</p>

<div class="highlighter-rouge"><pre class="highlight"><code>  小结:
  git init 初始化一个git仓库
  git add . 把文件添加进去，实际上就是把文件修改添加到暂存区
  git commit -m 'xx' 提交更改，实际上就是把暂存区的所有内容提交到当前分支。
  git status 随时查看工作区的状态
  git diff 查看修改的内容    
</code></pre>
</div>

<h3 id="section-3">撤销修改</h3>

<h4 id="section-4">直接撤销工作区的修改</h4>

<div class="highlighter-rouge"><pre class="highlight"><code> 1 在test.txt中添加`git基本使用`
 2 $ git checkout -- test.txt 
 3 此时查看test.txt文件，我们刚才添加的内容已经撤销
</code></pre>
</div>

<p>当你改乱了工作区某个文件的内容，想直接丢弃工作区的修改时，用命令<code class="highlighter-rouge">git checkout -- file</code>。</p>

<h4 id="section-5">当添加到暂存区中后，撤销修改</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>  1 在test.txt中添加`git基本使用`
  2 $ git add .
  3 $ git reset HEAD test.txt
     
     Unstaged changes after reset:
     M	test.txt  
  4  git checkout -- test.txt
  5 此时查看test.txt文件，我们刚才添加的内容已经撤销
</code></pre>
</div>

<p>当你不但改乱了工作区某个文件的内容，还执行 <code class="highlighter-rouge">git add . </code>添加到了暂存区时，想丢弃修改，分两步，第一步用命令<code class="highlighter-rouge">git reset HEAD file</code>，再执行<code class="highlighter-rouge">git checkout -- file</code>。</p>

<h4 id="commit">当已经commit到本地分支后，撤销修改</h4>

<p>最好直接版本回退</p>

<h3 id="section-6">分支</h3>

<h4 id="section-7">1 查看分支</h4>

<p><code class="highlighter-rouge">$ git branch</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>* master
</code></pre>
</div>

<p>*指向当前分支</p>

<p><code class="highlighter-rouge">$ git branch -a</code> 会将所有分支以及远程仓库都显示出来</p>

<div class="highlighter-rouge"><pre class="highlight"><code> * master
  remotes/origin/HEAD -&gt; origin/master
  remotes/origin/master
</code></pre>
</div>

<h4 id="section-8">2 创建分支</h4>

<p><code class="highlighter-rouge">$ git branch dev</code></p>

<h4 id="section-9">3 再次查看分支</h4>

<p><code class="highlighter-rouge">$ git branch</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>dev
* master
</code></pre>
</div>

<p>此时指向master分支</p>

<h4 id="section-10">4 切换分支</h4>

<p><code class="highlighter-rouge">$ git checkout dev</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>Switched to branch 'dev'
</code></pre>
</div>

<h4 id="section-11">5 再次查看分支</h4>

<p><code class="highlighter-rouge">$ git branch</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>* dev
 master
</code></pre>
</div>

<p>此时指向dev分支</p>

<h4 id="devmaster">6 修改dev分支并合并到master上</h4>

<p>给test.txt添加<code class="highlighter-rouge">合并分支</code>的内容</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ git add .
# git commit -m 'dev'
$ git checkout master
$ git merge dev

 Updating c422d8d..0697ece
 Fast-forward
 test.txt | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)
</code></pre>
</div>

<ul>
  <li>要合并分支，首先切换分支到最终合并到的分支(master),此时master中的test.txt并没有<code class="highlighter-rouge">合并分支</code></li>
  <li>执行完<code class="highlighter-rouge">git merge dev</code>,此时可以看到test.txt中已经有<code class="highlighter-rouge">合并分支</code>的内容了。</li>
  <li>注意到上面的Fast-forward信息，Git告诉我们，这次合并是“快进模式”，也就是直接把master指向dev的当前提交，所以合并速度非常快。</li>
</ul>

<h4 id="section-12">7 删除分支</h4>

<ul>
  <li>
    <p>删除一个已经合并过的分支（无论修改过与否）</p>

    <p><code class="highlighter-rouge">$ git branch -d dev</code></p>

    <p>Deleted branch dev (was 0697ece).</p>
  </li>
  <li>
    <p>删除一个未合并过的分支,创建一个test分支(修改,并且commit过的)</p>
  </li>
</ul>

<p><code class="highlighter-rouge">$ git branch -d dev</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>error: The branch 'test' is not fully merged.
If you are sure you want to delete it, run 'git branch -D test'.
</code></pre>
</div>

<p><code class="highlighter-rouge">$ git branch -D dev</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code> Deleted branch test (was 51b2ab3).
</code></pre>
</div>

<ul>
  <li>要删除某个分支，当前分支必须是其他分支。</li>
  <li>最好不要删除主分支。</li>
  <li>如果确定要删除某分支，直接使用<code class="highlighter-rouge">git branch -D xxx</code>即可。</li>
  <li>最好还是使用<code class="highlighter-rouge">git branch -d xxx</code>,以防删除未合并的分支。</li>
</ul>

<h4 id="section-13">8 冲突的解决</h4>

<p>若master分支和feature1分支各自都分别有新的提交，变成了这样<br />
<img src="http://www.liaoxuefeng.com/files/attachments/001384909115478645b93e2b5ae4dc78da049a0d1704a41000/0" alt="" /></p>

<p>这种情况下，Git无法执行“快速合并”，只能试图把各自的修改合并起来，但这种合并就可能会有冲突<br />
Git用<code class="highlighter-rouge">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>，<code class="highlighter-rouge">=======</code>，<code class="highlighter-rouge">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>标记出不同分支的内容，我们修改如下后保存，再add，commit<br />
现在，master分支和feature1分支变成了下图所示：</p>

<p><img src="http://www.liaoxuefeng.com/files/attachments/00138490913052149c4b2cd9702422aa387ac024943921b000/0" alt="" /></p>

<p><code class="highlighter-rouge">git log --graph --pretty=oneline --abbrev-commit</code> 用于查看分支合并情况</p>

<div class="highlighter-rouge"><pre class="highlight"><code> *   36c2f7a Merge branch 'dev'
 |\  
 | * 7179ae4 添加空3个空格
 * | d754fe1 test
 * | bace4d4 adf
 |/  
 * 0697ece 123
 * c422d8d first commit
 * ffc4dff adf
 *   10c8b9c Merge branch 'master' of https://github.com/lhjzzu/learngit
 |\  
 | * fe6b1e2 Initial commit
 * e0ae3d2 first commit
</code></pre>
</div>

<p><code class="highlighter-rouge">git log --graph </code>可以看到分支合并图</p>

<h4 id="section-14">9 分支的内容的存储</h4>

<p><code class="highlighter-rouge">git stash</code>可以把当前分支未完成的工作储藏起来<br />
当其他分支的工作完成之后，切换回这个分支<br />
然后<code class="highlighter-rouge">git stash list </code>查看，git把stash的内容存在某个地方了<br />
恢复有两个办法</p>

<p>法1. 用<code class="highlighter-rouge">git stash pop</code>（既恢复了工作区内容，也删除了stash的存储）</p>

<p>法2.<code class="highlighter-rouge">git stash apply</code>恢复，但是恢复后，stash内容并不删除，你需要用<code class="highlighter-rouge">git stash drop</code>来删除；<br />
恢复指定的stash，用命令<code class="highlighter-rouge">git stash apply stash@{0}</code></p>

<h4 id="section-15">分支小结:</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>对分支以及合并分支的理解:(Fast-forward)
1 HEAD指针原本指向master指针，创建dev分支后仅仅是增加了一个dev指针
2 切换到dev分支，仅仅是HEAD指针（永远指向当前分支）指向了dev指针
3 对dev分支的每一个commit，dev指针都向前移动一步，master指针不变
4 所谓将master与dev分支合并，也仅仅是将master指针直接指向dev指针所在的位置。
合并完成后，如果不需要dev分支，那么可以删除

查看分支:git branch
创建分支:git branch &lt;name&gt;
切换分支:git checkout &lt;name&gt;
创建+切换分支:git checkout -b &lt;name&gt;
合并某分支到当前分支: git merge &lt;name&gt;
删除分支:git branch -d &lt;name&gt;
</code></pre>
</div>

<h3 id="section-16">远程仓库</h3>

<h4 id="section-17">1 查看远程仓库信息</h4>

<p><code class="highlighter-rouge">$ git remote -v </code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>origin	https://github.com/lhjzzu/learngit (fetch)
origin	https://github.com/lhjzzu/learngit (push)
</code></pre>
</div>

<h4 id="section-18">2 推送到某个远程仓库</h4>
<p><code class="highlighter-rouge">$ git push origin &lt;name&gt;</code>或者 <code class="highlighter-rouge">$ git push</code>会自动推送到与本地分支名字一致的远程仓库</p>

<h4 id="dev">3 某个新建的分支推送到远端(例如dev分支)</h4>
<p>切换到dev分支<br />
<code class="highlighter-rouge">$ git push </code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>fatal: The current branch dev has no upstream branch.
To push the current branch and set the remote as upstream, use

git push --set-upstream origin dev
</code></pre>
</div>

<p>设置关联</p>

<p><code class="highlighter-rouge">$ git push --set-upstream origin dev</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>Delta compression using up to 8 threads.
Compressing objects: 100% (4/4), done.
Writing objects: 100% (6/6), 551 bytes | 0 bytes/s, done.
Total 6 (delta 2), reused 0 (delta 0)
To https://github.com/lhjzzu/learngit
 * [new branch]      dev -&gt; dev
Branch dev set up to track remote branch dev from origin.
</code></pre>
</div>

<p>下次直接<code class="highlighter-rouge">$ git push</code>即可</p>

<h4 id="section-19">4 直接从某个远程仓库抓取</h4>

<p>首先查看一下有多少远程仓库</p>

<p><code class="highlighter-rouge">$ git branch -a</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>* dev
  master
  remotes/origin/HEAD -&gt; origin/master
  remotes/origin/dev
  remotes/origin/master
</code></pre>
</div>

<p>先切换到master分支并将dev分支删除</p>

<p><code class="highlighter-rouge">$ git checkout master</code><br />
<code class="highlighter-rouge">$ git branch -D dev</code></p>

<p>创建dev分支，并从远程仓库dev拉取</p>

<p><code class="highlighter-rouge">$ git checkout -b dev origin/dev </code></p>

<p>此时你已经可以正常的提交和远程推送了，但是如果你的修改与小伙伴的修改冲突的话，那么推送失败。那么此时你需要先pull，把小伙伴的修改拉取下来</p>

<p>使用<code class="highlighter-rouge">$ git pull</code>进行拉取,但是拉取失败,因为没有指定本地dev分支与远程origin/dev分支的连接</p>

<p><code class="highlighter-rouge">$ git branch --set-upstream  origin/dev dev</code></p>

<p>此时在进行git pull成功，如果有冲突，手动解决冲突后再进行push即可</p>

<h4 id="section-20">5 删除远程仓库</h4>

<p>首先先删除远程分支<br />
<code class="highlighter-rouge">$ git branch -r -d origin/dev</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>Deleted remote-tracking branch origin/dev (was e484aab).
</code></pre>
</div>

<p>在将dev置为空<br />
<code class="highlighter-rouge">$ git push origin :dev</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>To https://github.com/lhjzzu/learngit
- [deleted]         dev
</code></pre>
</div>

<h4 id="section-21">小结:</h4>

<ul>
  <li>
    <p>查看远程库信息，使用<code class="highlighter-rouge">git remote -v</code>；</p>
  </li>
  <li>
    <p>本地新建的分支如果不推送到远程，对其他人就是不可见的；</p>
  </li>
  <li>
    <p>从本地推送分支，使用<code class="highlighter-rouge">git push origi name</code>，如果推送失败，先用<code class="highlighter-rouge">git pull</code>抓取远程的新提交；</p>
  </li>
  <li>
    <p>在本地创建和远程分支对应的分支，使用<code class="highlighter-rouge">git checkout -b name origin/name</code>，本地和远程分支的名称最好一致；</p>
  </li>
  <li>
    <p>建立本地分支和远程分支的关联，使用<code class="highlighter-rouge">git branch --set-upstream  origin/name name</code>；</p>
  </li>
  <li>
    <p>从远程抓取分支，使用git pull，如果有冲突，要先处理冲突。</p>
  </li>
</ul>

<h3 id="section-22">创建和操作标签</h3>

<h4 id="section-23">创建标签</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>git tag &lt;tagname&gt; 在当前分支下最新的commit打上标签
git tag &lt;tagname&gt; &lt;commit id&gt; 指定的commit打上标签
git tag 查看所有的标签
git show &lt;tagname&gt; 显示指定标签的信息
git tag -a &lt;tagname&gt; -m "msg"  -a指定标签名 -m指定说明文字
git tag -s &lt;tagname&gt; -m "msg"  -s用私钥签名一个标签&lt;PGP签名&gt;不要求掌握
注意:标签不是按时间排序，而是按字母排序的，创建的标签是放在本地的
</code></pre>
</div>

<h4 id="section-24">操作标签</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>git tag -d &lt;tagname&gt; 删除标签，只是从本地删除标签
git push origin —tags 推送所有标签到远程
推送到远程之后，如果要删除标签，那么先删除本地的标签
git tag -d &lt;tagname&gt;
再删除远程的标签
git push origin :refs/tags/&lt;tagname&gt;
</code></pre>
</div>

<h4 id="section-25">小结</h4>

<ul>
  <li>命令git push origin <tagname>可以推送一个本地标签；</tagname></li>
  <li>命令git push origin –tags可以推送全部未推送过的本地标签；</li>
  <li>命令git tag -d <tagname>可以删除一个本地标签；</tagname></li>
  <li>命令git push origin :refs/tags/<tagname>可以删除一个远程标签。</tagname></li>
</ul>

<h2 id="section-26">配置别名</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>git config --global alias.st status
git config --global alias.co checkout
git config --global alias.ci commit
git config --global alias.br branch
git config --global alias.unstage 'reset HEAD'
git config --global alias.last 'log -1'
git config --global alias.lg "log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit"
</code></pre>
</div>

<h2 id="faq">FAQ</h2>

<h3 id="commit-1">1 如何查看所有的历史commit？</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>1 git log --pretty=oneline 会将从当前版本及之前的一部分版本列举出来
2 git reset --hard  xxx(最后一个版本号) ， 然后继续执行1， 直到找到所需的版本.
</code></pre>
</div>

<h3 id="git-3">2 当我们想直接覆盖掉我们git远程分支中的版本的时候？</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>git push origin 远程分支名 --force  
</code></pre>
</div>

<h3 id="xcuserstate-xxxxcuserdatad">3 如何忽略 .xcuserstate ，/xxx.xcuserdatad/等中间文件</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>1 git status 会将中间文件列出来
2 vi .gitignore 打开忽略文件
3 将列出来的中间文件名放到.gitignore中
4 git rm -r —cached . （移除缓存以使.gitignore文件生效）
5 git add .
6 git commit -m "fiexed untracked files"
7 git push 即可.
</code></pre>
</div>

<h3 id="xcodeprojinfoplist">4 合并分支时.xcodeproj文件爆红打不开，以及info.plist文件打不开？</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>1 回退到合并前的版本
git reset --hard HEAD^ 或者 git reset —hard 版本号
 2 git 忽略.xcodeproj文件
在.gitignore中加入
*.xcodeproj/
DerivedData/
(解决了问题之后最好把这两个删了，再按下面的步骤提交一下,否则再切换分支的时候.xcodeproj会丢失)
但是这样做后，.gitignore并没有起作用，是因为缓存的缘故
.gitignore文件只是ignore没有被staged(cached)文件，对于已经被staged文件，加入ignore文件时一定要先从staged移除。
git rm -r --cached .
git add .
git commit -m "fixed untracked files"
如果没有加入
文件，那么工程中很多文件会缺少文件的索引
可以直接把所有的文件索引删除，然后再添加进来即可
</code></pre>
</div>

<h2 id="section-27">参考</h2>
<ul>
  <li><a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000">廖雪峰Git</a></li>
  <li><a href="http://www.jianshu.com/p/dcbb8baa6e36">本地Git仓库和远程仓库的创建及关联</a></li>
  <li><a href="http://www.zhihu.com/question/38983686?sort=created">.git文件夹下的每个文件都是做什么的？</a></li>
</ul>


    </article>
    <div class="share">
      <div class="share-component"></div>
    </div>
    <div class="comment">
      
  
      
      <!-- Duoshuo Comment BEGIN -->
      <!-- 多说评论框 BEGIN -->
      <div class="ds-thread" data-thread-key="/2016/05/08/git-base-usage/" data-title="git基本用法" data-url="https://ztmengyuxuan.github.io/2016/05/08/git-base-usage/"></div>
      <!-- 多说评论框 END -->
      <!-- 多说公共JS代码 BEGIN (一个网页只需插入一次) -->
      <script type="text/javascript">
      var duoshuoQuery = {short_name:"abc19911991"};
        (function() {
          var ds = document.createElement('script');
          ds.type = 'text/javascript';ds.async = true;
          ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
          ds.charset = 'UTF-8';
          (document.getElementsByTagName('head')[0]
           || document.getElementsByTagName('body')[0]).appendChild(ds);
        })();
        </script>
      <!-- 多说公共JS代码 END -->
      <!-- Duoshuo Comment END -->
      
    


    </div>
  </div>
  <div class="column one-fourth">
    
<h3>Search</h3>
<form action="get" id="site_search">
    <input type="text" id="search_box" placeholder="Search">
    <button class="btn btn-default" type="submit"><span class="octicon octicon-search"></span></button>
</form>

<ul id="search_results"></ul>

<link rel="stylesheet" type="text/css" href="/assets/css/modules/sidebar-search.css">
<script src="/assets/js/lunr.min.js"></script>
<script src="/assets/js/search.js"></script>


    
<h3>Post Directory</h3>
<div id="post-directory-module" class="mobile-hidden">
  <section class="post-directory">
  <!-- Links that trigger the jumping -->
  <!-- Added by javascript below -->
  <dl></dl>
  </section>
</div>

<script src="/assets/js/jquery.toc.js"></script>

  </div>
</div>
</section>
<!-- /section.content -->

    <footer class="container">
        <div class="site-footer" role="contentinfo">
            <div class="copyright left mobile-block">
                    © 2015
                    <span title="Liu Hua Jian">Liu Hua Jian</span>
                    <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a>
            </div>

            <ul class="site-footer-links right mobile-hidden">
                <li>
                    <a href="javascript:window.scrollTo(0,0)" >TOP</a>
                </li>
            </ul>
            <a href="git@github.com:ztmegnyuxuan/ztmengyuxuan.github.io.git" target="_blank" aria-label="view source code">
                <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
            </a>
            <ul class="site-footer-links mobile-hidden">
                
                <li>
                    <a href="/" title="首页" target="">首页</a>
                </li>
                
                <li>
                    <a href="/categories/" title="分类" target="">分类</a>
                </li>
                
                <li>
                    <a href="/links/" title="链接" target="">链接</a>
                </li>
                
                <li>
                    <a href="/about/" title="关于" target="">关于</a>
                </li>
                
                <li><a href="/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a></li>
            </ul>
        </div>
    </footer>
    <!-- / footer -->
    <script src="/assets/vendor/s.js/dist/js/share.min.js"></script>
    <script src="/assets/js/geopattern.js"></script>
    <script src="/assets/js/prism.js"></script>
    <link rel="stylesheet" href="/assets/css/globals/prism.css">
    <script>
      jQuery(document).ready(function($) {
        // geopattern
        $('.geopattern').each(function(){
          $(this).geopattern($(this).data('pattern-id'));
        });
       // hljs.initHighlightingOnLoad();
      });
    </script>
    
</body>
</html>
